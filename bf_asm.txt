
#define prog 0xfff
#define programSize 0xff

LOAD r1,0
LOAD r2,programSize

MAIN_LOOP:

	LOAD r0,@prog + r1
	
	casePlus:		
		CMP r0,'+' 
		JMF _l0
			CALL BF_INC
	_l0:
			
	caseNegative:
		CMP r0,'-'
		JMF _l1		
			CALL BF_DEC
	_l1:
	
	caseMoveRight:
		CMP r0, '>'
		JMF _l2		
			CALL BF_MOVE_RIGHT
	_l2:
	
	caseMoveLeft:
		CMP r0, '<'
		JMF _l3
			CALL BF_MOVE_LEFT
	_l3:
	
	caseLoopStart:
		CMP r0, '['		
		JMF _l4	
			CALL BF_START_LOOP
	_l4:
	
	caseLoopEnd:
		CMP r0, ']'		
		JMF _l5
			CALL BF_END_LOOP
	_l5:		
			
		
	CMP r1, programSize
	JMT MAIN_LOOP
	
	