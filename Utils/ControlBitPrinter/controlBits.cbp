//fetch
{
	//----t0-------------------

	//mar = pc
	//pc++
	PC_enb
	MAR_we
	#
	//-------------------------

	//----t1-------------------

	//mdr = ram[mar]
	Read
	MDR_we	
	#

	//-------------------------

	//----t2-------------------

	//ir = mdr
	MDR_out
	IR_we		
	#
	//-------------------------

	NOP
}

//CALISIYOR 07.12.25
//4
[LOAD 1]
//LOAD r0,32bit
{	
	//reg => posta
	POSTA_B_we
	//mar = pc
	//pc++
	PC_enb
	MAR_we
	#

	//mdr = ram[pc]
	Read
	MDR_we
	#
	//------------------------------

	//------------------------------
	//regFile[posta] = mdr	
	POSTA_B_out
	MDR_out
	REG_we
	#
	//------------------------------
}

//CALISIYOR 21.12.25
[LOAD 2]
//LOAD rx,@adr
{
	//reg => posta
	POSTA_B_we	
	//mar = pc
	//pc++
	PC_enb
	MAR_we
	#

	//mdr = adr
	Read
	ADR_we
	#

	//mar = adr
	ADR_out
	PC_mux
	MAR_we
	#

	//mdr = ram[adr]
	Read
	MDR_we
	#

	//regFile[posta] = mdr	
	POSTA_B_out
	MDR_out
	REG_we
	#
}

//CALISIYOR 22.12.25
[LOAD 3]
//LOAD rx,@ry
{
	
	POSTA_A_we
	POSTA_B_we
	#
	//mar = @ry
	REG_out
	POSTA_B_out
	REG_data_out
	DATA_to_adr
	PC_mux
	MAR_we
	#
	//mdr = ram[@ry]
	Read
	MDR_we
	#
	//rx = ram[@ry]
	MDR_out
	POSTA_A_out
	REG_we
	#
}

//CALISIYOR 20.12.25
//STR @adr,rx
[STR 2]
{
	//postab = rx
	POSTA_B_we
	//mar = pc
	//pc++
	PC_enb
	MAR_we
	#
	
	//mdr = adr
	Read
	ADR_we
	#

	//mar = adr
	ADR_out
	PC_mux
	MAR_we
	#

	REG_out
	POSTA_B_out
	REG_data_out
	Write
	#
}

//CALISIYOR 20.12.25
[MOV 0]
//mov rx,ry
{
	//a = rx
	//b = ry
	POSTA_A_we
	POSTA_B_we
	#

	POSTA_B_out
	REG_out
	TEMP_we
	#

	POSTA_A_out
	TEMP_out	
	REG_we
	#
}

//CALISIYOR 20.12.25
[ADD 1]
[SUB 1]
[MUL 1]
[DIV 1]
//ADD rx,sayi
{
	//b = rx
	//pc++
	POSTA_B_we
	PC_enb
	MAR_we
	#

	//mdr = sayi
	Read
	MDR_we
	#

	//temp = rx
	POSTA_B_out
	REG_out
	TEMP_we
	#

	//acc = rx (i3b) sayi
	MDR_out	
	ALU_mux
	I3B
	ACC_we
	#

	//rx = acc
	ALU_out
	REG_we
	POSTA_B_out
	#


}

//CALISIYOR 30.12.25
[CMP 1]
//CMP rx,sayi
{

	//pc++
	POSTA_B_we
	PC_enb
	MAR_we
	#

	//mdr = sayi
	Read
	MDR_we
	#

	//temp = rx
	POSTA_B_out
	REG_out
	TEMP_we
	#

	MDR_out	
	ALU_mux
	I3B	
	#
}


//CALISIYOR 20.12.25
[AND 5]
[ADD 5]
[SUB 5]
[MUL 5]
[DIV 5]
[XOR 5]
[OR 5]
[SHL 5]
[SHR 5]
//AND rx,ry
{
	//a,b = rx,ry
	POSTA_A_we
	POSTA_B_we
	#

	//temp = rx
	POSTA_A_out
	REG_out
	TEMP_we
	#

	//acc = rx (i3b) ry
	POSTA_B_out
	REG_out
	I3B
	ACC_we
	#

	//rx = acc
	ALU_out
	REG_we
	POSTA_A_out
	#
}

//CALISIYOR 22.12.25
[DIV 2]
[MUL 2]
[SUB 2]
[ADD 2]
//ADD rx,@adr
{
	//b = rx
	//pc++
	POSTA_B_we
	PC_enb
	MAR_we
	#

	//adr_reg = adr
	Read
	ADR_we
	#

	ADR_out
	PC_mux
	MAR_we
	#

	//mdr = ram[@adr]
	//temp = rx
	Read
	MDR_we
	REG_out
	POSTA_B_out
	TEMP_we
	#

	MDR_out
	ALU_mux
	I3B
	ACC_we
	#

	ALU_out
	REG_we
	POSTA_B_out
	#
	
}

[DIV 3]
[MUL 3]
[SUB 3]
[ADD 3]
//ADD rx,@ry
{
	POSTA_A_we
	#
}

//CALISIYOR 02.01.26
[CMP 5]
//CMP rx,ry
{
	POSTA_A_we
	POSTA_B_we
	#

	POSTA_A_out
	REG_out
	TEMP_we
	#

	POSTA_B_out
	REG_out
	I3B
	#

}

//CALISIYOR 21.12.25
[NOT 0]
//NOT rx
{
	POSTA_B_we
	#

	POSTA_B_out
	REG_out
	TEMP_we
	#

	//acc = rx (i3b) ry
	POSTA_B_out
	REG_out
	I3B
	ACC_we
	#

	//rx = acc
	ALU_out
	REG_we
	POSTA_B_out
	#
}

//CALISIYOR 07.12.25
//jmp label
[JMP 0]
[JNE 0]
[JE 0]
[JGT 0]
[JLT 0]
{
	//mar = pc
	//pc++
	PC_enb
	MAR_we
	#

	//adr_reg = adr
	ADR_we
	Read
	#

	//pc = adr
	ADR_out
	PC_load
	#
}
